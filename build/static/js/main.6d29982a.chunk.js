(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{19:function(t,e,n){},24:function(t,e,n){t.exports=n(34)},34:function(t,e,n){"use strict";n.r(e);n(19);var a=n(0),o=n.n(a),r=n(22),s=n.n(r),i=n(18),c=n(7),l=n(8),u=n(10),d=n(9),p=n(11),h=n(6),m="http://localhost:8000",f=function(){return fetch("".concat(m,"/dog-list")).then((function(t){return t.ok?t.json():Promise.reject(t.statusText)}))},g=function(){return fetch("".concat(m,"/cat-list")).then((function(t){return t.ok?t.json():Promise.reject(t.statusText)}))},E=function(){return fetch("".concat(m,"/dogs")).then((function(t){return t.ok?t.json():Promise.reject(t.statusText)}))},b=function(){return fetch("".concat(m,"/cats")).then((function(t){return t.ok?t.json():Promise.reject(t.statusText)}))},v=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(u.a)(this,Object(d.a)(e).call(this))).handleAdoption=function(e){fetch("".concat(m,"/cats"),{method:"DELETE",header:{"content-type":"application/json"}}).then((function(t){if(!t.ok)throw new Error("Something went wrong adopting this pet, please try again later")})).then((function(e){t.props.adoptCat(e)})).then((function(){fetch("".concat(m,"/cat-list"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(t){if(!t.ok)throw new Error("Something went wrong adopting this pet, please try again later")})).then((function(e){t.props.removeCatPerson(e)}))})).then((function(){2===t.props.catList.length?t.setState({adoptEnabled:!0}):t.setState({adoptEnabled:!1})}))},t.addPerson=function(e){var n;(n=e,fetch("".concat(m,"/cat-list"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({person:n})}).then((function(t){return t.ok?t.json():Promise.reject(t.statusText)}))).then((function(e){t.props.catListAdd(e)}))},t.handleSubmit=function(e){e.preventDefault();var n=e.target.person;t.addPerson(n.value)},t.state={userInput:0,intervalId:0,adoptEnabled:!1,addPersonDisabled:!1},t}return Object(p.a)(e,t),Object(l.a)(e,[{key:"onChange",value:function(t){this.setState({userInput:t.target.value})}},{key:"componentDidMount",value:function(){var t=this,e=!1,n=["Taylor","BagleBites","Raph","Laney","Bryan"];this.intervalId=setInterval((function(){if(e&&t.props.catList.length>=5&&(e=!1),0===t.props.catList.length&&(e=!0),e){var a=Math.floor(Math.random()*n.length);t.addPerson(n[a]),t.setState({addPersonDisabled:!0,adoptEnabled:!1})}else t.handleAdoption(),t.setState({addPersonDisabled:!1,adoptEnabled:!0});if(t.props.cats.length<=0)return clearInterval(t.intervalId)}),5e3)}},{key:"componentWillUnmount",value:function(){return clearInterval(this.intervalId)}},{key:"render",value:function(){for(var t,e,n=this,a=this.props.catList.map((function(t,e){return o.a.createElement("div",{key:e,className:"person"},o.a.createElement("h3",null,t))})),r=0;r<this.props.cats.length;r++)t=this.props.cats[r];if(t){var s=t;e=o.a.createElement("div",{key:s.id,className:"animal"},o.a.createElement("img",{alt:"animal to adopt",src:s.imageURL}),o.a.createElement("div",{className:"content"},o.a.createElement("h4",null," ",s.name," "),o.a.createElement("p",null," Age: ",s.age," "),o.a.createElement("p",null," Breed: ",s.breed," "),o.a.createElement("p",null," ",s.description," "),o.a.createElement("p",null," ",s.story," ")),o.a.createElement("button",{disabled:!this.state.adoptEnabled,onClick:function(t){return n.handleAdoption(t)},className:"adopt-me"}," ","Adopt Me!"," "))}return o.a.createElement("div",{className:"adoption"},o.a.createElement(h.b,{to:"/"},o.a.createElement("button",null," Home ")),o.a.createElement("form",{className:"queue-form",onSubmit:function(t){return n.handleSubmit(t)}},o.a.createElement("input",{name:"person",id:"person",type:"text",placeholder:"Enter Name in Queue",onChange:function(t){return n.onChange(t)},value:this.state.people}),o.a.createElement("button",{disabled:this.state.addPersonDisabled,type:"submit"}," ","Submit"," ")),o.a.createElement("h3",null," Adoptable Cats "),this.props.cats.length<=0?o.a.createElement("h2",null," Shelter is empty "):null,o.a.createElement("div",{className:"list"},e),o.a.createElement("div",{className:"queue"},a),this.props.catList.length<=0?o.a.createElement("h2",null," Congratulations on your new cat! "):null)}}]),e}(a.Component),y=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(u.a)(this,Object(d.a)(e).call(this))).handleAdoption=function(e){fetch("".concat(m,"/dogs"),{method:"DELETE",header:{"content-type":"application/json"}}).then((function(t){if(!t.ok)throw new Error("Something went wrong adopting this pet, please try again later")})).then((function(e){t.props.adoptDog(e)})).then((function(){fetch("".concat(m,"/dog-list"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(t){if(!t.ok)throw new Error("Something went wrong adopting this pet, please try again later")})).then((function(e){t.props.removeDogPerson(e)}))})).then((function(){2===t.props.dogList.length?t.setState({adoptEnabled:!0}):t.setState({adoptEnabled:!1})}))},t.addPerson=function(e){var n;(n=e,fetch("".concat(m,"/dog-list"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({person:n})}).then((function(t){return t.ok?t.json():Promise.reject(t.statusText)}))).then((function(e){t.props.dogListAdd(e)}))},t.handleSubmit=function(e){e.preventDefault();var n=e.target.person;t.addPerson(n.value)},t.state={userInput:0,intervalId:0,adoptEnabled:!1,addPersonDisabled:!1},t}return Object(p.a)(e,t),Object(l.a)(e,[{key:"onChange",value:function(t){this.setState({userInput:t.target.value})}},{key:"componentDidMount",value:function(){var t=this,e=!1,n=["Taylor","BagleBites","Raph","Laney","Bryan"];this.intervalId=setInterval((function(){if(e&&t.props.dogList.length>=5&&(e=!1),0===t.props.dogList.length&&(e=!0),e){var a=Math.floor(Math.random()*n.length);t.addPerson(n[a]),t.setState({addPersonDisabled:!0,adoptEnabled:!1})}else t.handleAdoption(),t.setState({addPersonDisabled:!1,adoptEnabled:!0});if(t.props.dogs.length<=0)return clearInterval(t.intervalId)}),5e3)}},{key:"componentWillUnmount",value:function(){return clearInterval(this.intervalId)}},{key:"render",value:function(){for(var t,e,n=this,a=this.props.dogList.map((function(t,e){return o.a.createElement("div",{key:e,className:"person"},o.a.createElement("h3",null,t))})),r=0;r<this.props.dogs.length;r++)t=this.props.dogs[r];if(t){var s=t;e=o.a.createElement("div",{key:s.id,className:"animal"},o.a.createElement("img",{alt:"animal to adopt",src:s.imageURL}),o.a.createElement("div",{className:"content"},o.a.createElement("h4",null," ",s.name," "),o.a.createElement("p",null," Age: ",s.age," "),o.a.createElement("p",null," Breed: ",s.breed," "),o.a.createElement("p",null," ",s.description," "),o.a.createElement("p",null," ",s.story," ")),o.a.createElement("button",{disabled:!this.state.adoptEnabled,onClick:function(t){return n.handleAdoption(t)},className:"adopt-me"}," ","Adopt Me!"," "))}return o.a.createElement("div",{className:"adoption"},o.a.createElement(h.b,{to:"/"},o.a.createElement("button",null," Home ")),o.a.createElement("form",{className:"queue-form",onSubmit:function(t){return n.handleSubmit(t)}},o.a.createElement("input",{name:"person",id:"person",type:"text",placeholder:"Enter Name in Queue",onChange:function(t){return n.onChange(t)},value:this.state.people}),o.a.createElement("button",{disabled:this.state.addPersonDisabled,type:"submit"}," ","Submit"," ")),o.a.createElement("h3",null," Adoptable Dogs "),this.props.dogs.length<=0?o.a.createElement("h2",null," Shelter is empty "):null,o.a.createElement("div",{className:"list"},e),o.a.createElement("div",{className:"queue"},a)," ",this.props.dogList.length<=0?o.a.createElement("h2",null," Congratulations on your new dog! "):null," ")}}]),e}(a.Component),j=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"home"},o.a.createElement("h1",null," FIFO Pet Adoption "),o.a.createElement("p",null," ","FIFO is a pet adoption agency that takes a 'first-in-first-out' approach to adoption.")," ",o.a.createElement("p",null," ","The first animal that gets admitted to our shelter is the first one that gets adopted."),o.a.createElement("img",{alt:"this is adoption",src:"https://www.humanesocietymiami.org/wp-content/uploads/2020/04/Adopt-a-shelter-pet-today_dog-2000px.jpg"}),o.a.createElement(h.b,{to:"/cat-adopt"},o.a.createElement("button",null," View Cats ")),o.a.createElement(h.b,{to:"/dog-adopt"},o.a.createElement("button",null," View Dogs ")))}}]),e}(a.Component),L=n(1),S=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={people:[],pets:[],catList:[],dogList:[],cats:[],dogs:[],error:null},n.removeDogPerson=function(){f().then((function(t){return n.setState({dogList:t})}))},n.removeCatPerson=function(){g().then((function(t){return n.setState({catList:t})}))},n.dogListAdd=function(t){n.setState({dogList:[].concat(Object(i.a)(n.state.dogList),[t])})},n.catListAdd=function(t){n.setState({catList:[].concat(Object(i.a)(n.state.catList),[t])})},n.adoptCat=function(){n.setState({cats:n.state.cats.slice(1)}),b().then((function(t){return n.setState({cats:t})}))},n.adoptDog=function(){n.setState({dogs:n.state.dogs.slice(1)}),E().then((function(t){return n.setState({dogs:t})}))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=[fetch("".concat(m,"/people")).then((function(t){return t.ok?t.json():Promise.reject(t.statusText)})),fetch("".concat(m,"/pets")).then((function(t){return t.ok?t.json():Promise.reject(t.statusText)})),E(),b(),f(),g()];Promise.all(e).then((function(e){return t.setState({people:e[0],pets:e[1],dogs:e[2],cats:e[3],dogList:e[4],catList:e[5]})})).catch((function(e){t.setState({error:e})}))}},{key:"render",value:function(){var t=this;return console.log(this.state.dogList),o.a.createElement(h.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(L.a,{exact:!0,path:"/",component:j}),o.a.createElement(L.a,{path:"/cat-adopt",render:function(e){return o.a.createElement(v,Object.assign({},e,{adoptCat:t.adoptCat,removeCatPerson:t.removeCatPerson,catListAdd:t.catListAdd,catList:t.state.catList,cats:t.state.cats}))}}),o.a.createElement(L.a,{path:"/dog-adopt",render:function(e){return o.a.createElement(y,Object.assign({},e,{adoptDog:t.adoptDog,removeDogPerson:t.removeDogPerson,dogListAdd:t.dogListAdd,dogList:t.state.dogList,dogs:t.state.dogs}))}})))}}]),e}(a.Component);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6d29982a.chunk.js.map